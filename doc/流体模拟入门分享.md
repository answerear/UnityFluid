---
presentation:
  # presentation 主题
  # === 可选的主题 ===
  # "beige.css"
  # "black.css"
  # "blood.css"
  # "league.css"
  # "moon.css"
  # "night.css"
  # "serif.css"
  # "simple.css"
  # "sky.css"
  # "solarized.css"
  # "white.css"
  # "none.css"
  theme: black.css
  width: 960
  height: 700
  paginate: true
  enableSpeakerNotes: true
  slideNumber: true
  overview: true
---
# Marp for vsCode


<style type="text/css">
  .reveal .slides {
      margin: auto 20px;
      text-align: initial;
      font-size: 16;
  }
  section.slide{
    height: 100%;
    overflow-y: auto !important
  }
</style>

<!-- slide -->
# 流体模拟入门分享

<!-- slide -->
## 流体是什么？
- 固体
- 液体和气体
    - 流动：不断变形的运动
    - 例如：烟雾、海浪、水滴

<!-- slide -->
## 几个重要的数学算子
- nabla算子
- 梯度(gradient)
- 散度(divergence)
- 旋度(curl)
- Laplace算子

<!-- slide -->
## nabla算子
$\nabla = (\frac{\partial}{\partial {x}}, \frac{\partial}{\partial {y}}, \frac{\partial} {\partial{z}}) $

<!-- slide -->
## 梯度(gradient)
- 函数$u = f(x, y, z)$的梯度定义为
$grad f = (\frac{\partial{f}}{\partial {x}}, \frac{\partial{f}}{\partial {y}}, \frac{\partial{f}}{\partial{z}}) = \nabla f$

- 沿梯度方向的方向导数最大（函数值增加最快）
- 梯度向量和等值曲面$𝑓(𝑥,𝑦,𝑧)=C$ 垂直


<!-- slide -->
## 散度(divergence)
- **向量场**$\pmb A=(P(x,y,z),Q(x,y,z),R(x,y,z)$
$\begin{aligned} div \pmb A &= \frac{\partial{P}}{\partial {x}} + \frac{\partial{Q}}{\partial {y}} + \frac{\partial{R}}{\partial{z}}\\
 &=(\frac{\partial}{\partial {x}},\frac{\partial}{\partial {y}},\frac{\partial}{\partial {z}})\cdot (P,Q,R)\\
 &=\nabla \cdot \pmb A \end{aligned}$

- 向量场𝐴在点𝑀处的**通量密度**
$div \pmb{A}(M) = \lim_{r \to 0} {\boxed{\frac{\iint_{\Sigma_r}A \cdot \vec{n} dS}{V}}}$(单位体积的通量)

- 如果向量场$A$处处有$𝑑𝑖𝑣 \ 𝐴=0$，则称$A$为**无源场**


<!-- slide -->
## 旋度(curl)
- **向量场**$\pmb A=(P(x,y,z),Q(x,y,z),R(x,y,z)$
$\begin{aligned} curl \  \pmb A &= (
  \frac{\partial{R}}{\partial {y}}-\frac{\partial{Q}}{\partial {z}}, 
  \frac{\partial{P}}{\partial {z}}- \frac{\partial{R}}{\partial {x}},
  \frac{\partial{Q}}{\partial {x}}- \frac{\partial{P}}{\partial {y}})\\
 &=(\frac{\partial}{\partial {x}},\frac{\partial}{\partial {y}},\frac{\partial}{\partial {z}}) \times (P,Q,R)\\
 &=\nabla \times \pmb A \end{aligned}$

- 绕单位向量$\vec n$的环流量密度
$curl \pmb{A}(M) \cdot \vec{n} = \lim_{r \to 0} \frac{\oint_{L_r}A\cdot dl}{S}$(单位面积的环流量)
- 若向量场A处处由curl\ \pmb 𝐴=0，则称$\pmb A$为无旋场

<!-- slide -->
## Laplace算子
- 空间标量函数$𝑢=𝑓(𝑥,𝑦,𝑧)$
- 先求标量函数的梯度场 （“趋势”），再求梯度场的散度（“源”）
- 标量函数在某一点附近的平均值与该点的函数值的差


<!-- slide -->
## 物质导数


<!-- slide -->
## 守恒定律
$$ F = m \frac {D \vec{u}}{Dt}$$

<!-- slide -->
## 不可压缩条件

<!-- slide -->
## NS方程

<!-- slide -->
## NS方程的解

<!-- slide -->
## 密度估算

<!-- slide -->
## SPH

<!-- slide -->
## 邻域搜索

<!-- slide -->
## 基于力的求解

<!-- slide -->
## 基于约束的求解

<!-- slide -->
## PBD

<!-- slide -->
## 分析力学

<!-- slide -->
## 最小二乘约束优化

<!-- slide -->
## 拉格朗日乘子法

<!-- slide -->
## 流体的密度约束

<!-- slide -->
## 黏力、涡旋

<!-- slide -->
## 流固交互